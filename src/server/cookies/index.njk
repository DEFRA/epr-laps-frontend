{% extends 'layouts/page.njk' %}

{% from "govuk/components/table/macro.njk" import govukTable %}
{% from "govuk/components/radios/macro.njk" import govukRadios %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/notification-banner/macro.njk" import govukNotificationBanner %}
{% set showBackLink = true %}

{% block content %}

  {% if updated %}
    {% set html %}
      <p class="govuk-notification-banner__heading">
        Youâ€™ve set your cookie preferences. <a class="govuk-notification-banner__link" href="/">Go back to the page you were looking at</a>.
      </p>
    {% endset %}

    {{ govukNotificationBanner({
      type: "success",
      html: html
    }) }}
  {% endif %}


<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <h1 class="govuk-heading-l">Cookies</h1>
    <p class="govuk-body">Cookies are small files saved on your phone, tablet or computer when you visit a website.</p>
    <p class="govuk-body">We use cookies to make this site work and collect information about how you use our service.</p>
    <h2 class="govuk-heading-m">Essential cookies</h2>
    <p class="govuk-body">Essential cookies keep your information secure while you use this service. We do not need to ask permission to use them.</p>
    {{ govukTable({
      caption: "Essential cookies we use",
      captionClasses: "govuk-table__caption--s",
      firstCellIsHeader: false,
      head: [
        {
          text: "Name"
        },
        {
          text: "Purpose"
        },
        {
          text: "Expires"
        }
      ],
      rows: [
        [
          {
            text: "session_cookie"
          },
          {
            text: "Used to keep you signed in"
          },
          {
            text: "20 hours"
          }
        ],
        [
          {
            text: "cookie_policy"
          },
          {
            text: "Saves your cookie consent settings"
          },
          {
            text: "1 year"
          }
        ]
      ]
    }) }}
  </div>
</div>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <h2 class="govuk-heading-l">Change your cookie settings</h2>
    <form action="/form-handler" method="post" novalidate>
      {{ govukRadios({
          name: "cookies[functional]",
          idPrefix: "cookies-functional",
          fieldset: {
            legend: {
              text: "Do you want to accept functional cookies?",
              classes: "govuk-fieldset__legend--s"
            }
          },
          items: [
            {
              value: "yes",
              text: "Yes"
            },
            {
              value: "no",
              text: "No",
              checked: true
            }
          ]
        }) }}

        {{ govukRadios({
          name: "cookies[analytics]",
          idPrefix: "cookies-analytics",
          fieldset: {
            legend: {
              text: "Do you want to accept analytics cookies?",
              classes: "govuk-fieldset__legend--s"
            }
          },
          items: [
            {
              value: "yes",
              text: "Yes"
            },
            {
              value: "no",
              text: "No",
              checked: true
            }
          ]
        }) }}

        {{ govukButton({
          text: "Save cookie settings"
        }) }}
    </form>
  </div>
</div>

{% endblock %}