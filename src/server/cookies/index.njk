{% extends 'layouts/page.njk' %}

{% from "govuk/components/table/macro.njk" import govukTable %}
{% from "govuk/components/radios/macro.njk" import govukRadios %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/notification-banner/macro.njk" import govukNotificationBanner %}
{% set showBackLink = true %}

{% block content %}

{% set successNotificationBannerHtml %}
  <p class="govuk-notification-banner__heading">Youâ€™ve set your cookie preferences.</p>
{% endset %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds-from-desktop">

    <div class="app-cookies-page js-cookies-page" data-module="app-cookies-page">
      {{ govukNotificationBanner({
        type: "success",
        html: successNotificationBannerHtml,
        classes: "js-cookies-page-success",
        attributes: {
          hidden: ""
        }
      }) }}

      <h1 class="govuk-heading-l">Cookies</h1>
      <p class="govuk-body">Cookies are small files saved on your phone, tablet or computer when you visit a website.</p>
      <p class="govuk-body">We use cookies to make this site work and collect information about how you use our service.</p>

      <h2 class="govuk-heading-m">Essential cookies</h2>
      <p class="govuk-body">Essential cookies keep your information secure while you use this service. We do not need to ask permission to use them.</p>

      {{ govukTable({
        caption: "Essential cookies we use",
        captionClasses: "govuk-table__caption--s",
        firstCellIsHeader: false,
        head: [
          { text: "Name" },
          { text: "Purpose" },
          { text: "Expires" }
        ],
        rows: [
          [
            { text: "session_cookie" },
            { text: "Used to keep you signed in" },
            { text: "20 hours" }
          ],
          [
            { text: "cookie_policy" },
            { text: "Saves your cookie consent settings" },
            { text: "1 year" }
          ]
        ]
      }) }}

      <h2 class="govuk-heading-l">Change your cookie settings</h2>

      <form class="js-cookies-page-form" action="/form-handler" method="post" novalidate data-module="js-cookies-page-form">

        {{ govukRadios({
          name: "cookies[functional]",
          idPrefix: "cookies-functional",
          fieldset: {
            legend: {
              text: "Do you want to accept functional cookies?",
              classes: "govuk-fieldset__legend--s"
            },
            classes: "js-cookies-page-form-fieldset",
            attributes: {
              "data-cookie-type": "functional"
            }
          },
          items: [
            {
              value: "yes",
              text: "Yes"
            },
            {
              value: "no",
              text: "No",
              checked: true
            }
          ]
        }) }}

        {{ govukRadios({
          name: "cookies[analytics]",
          idPrefix: "cookies-analytics",
          fieldset: {
            legend: {
              text: "Do you want to accept analytics cookies?",
              classes: "govuk-fieldset__legend--s"
            },
            classes: "js-cookies-page-form-fieldset",
            attributes: {
              "data-cookie-type": "analytics"
            }
          },
          items: [
            {
              value: "yes",
              text: "Yes"
            },
            {
              value: "no",
              text: "No",
              checked: true
            }
          ]
        }) }}

        {{ govukButton({
          text: "Save cookie settings",
          classes: "js-cookies-form-button",
          attributes: {
            hidden: ""
          }
        }) }}

      </form>
    </div>
  </div>
</div>

{% endblock %}
